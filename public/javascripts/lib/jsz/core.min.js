'use strict';window.jsz={script:{base:"/assets/javascripts"}};
(function(){function a(a){return"function"===typeof a.equal?function(b){return a.equal(b)}:function(b){return a===b}}function b(a){return!0===a}window.script=function(a,b){a.fun=void 0===b?function(){}:b;a.evaluated=!1;a.loaded=!0;void 0===a.require&&(a.require=[]);void 0===a.name&&(a.name=uniqueId("SCRIPT"));script.map[a.name]=a;script._addDefaultRequirements(a.name);script._defaultRequirement(a.name);delete a.name;void 0!==a.base&&this._setBase(a.base);script._evalAll()};script.map={};script.SLASH=
"/";script.PERIOD=".";script.PREFIX_JS=".js";script._loadedScriptName=null;script._defaultRequirements=[];script._base=null;script._counter=0;script._srcToNameRegExp=/^http.*\/\/[^/]*.(.*).js$/;script._preloaded=[];script.init=function(a){void 0!==a.base&&this._setBase(a.base);script._preloaded=function(){var a=document.getElementsByTagName("script"),b=a.length,c=0,f=[];for(c;c<b;c++){var h=a.item(c).src;""!==h&&(h=script._srcToNameRegExp.exec(h),null!==h&&f.push(h[1].replace(new RegExp(script.SLASH,
"g"),script.PERIOD).substr(script._base.length-1)))}return f}();void 0!==a.preloaded&&(script._preloaded=script._preloaded.concat(a.preloaded));script._preloaded.forEach(function(a){void 0===script.map[a]&&(script.map[a]={default:!1,loaded:!0,evaluated:!0,preloaded:!0})})};script._setBase=function(a){script._base=script.SLASH+/\/*(.*[^\/])\/*/.exec(a)[1]+script.SLASH};script.load=function(a){if(null===script._base)throw Error("Script-loader not initialized! base \x3d null");var b=document.createElement("script");
b.setAttribute("src",script._src(a));b.setAttribute("type","text/javascript");b.setAttribute("async","true");document.head.appendChild(b);b={loaded:!1,evaluated:!1,preloaded:!1};return script.map[a]=b};script._src=function(a){if(/^[\w\.]*$/.test(a))return script._base+a.replace(/\./g,script.SLASH)+script.PREFIX_JS;throw Error("Wrong format! script-name \x3d "+a);};script._defaultRequirement=function(a){var b=script.map[a];void 0===b.default?b.default=script._isDefault(a):!0===b.default&&script._defaultRequirements.push(a)};
script._addDefaultRequirements=function(b){var d=script.map[b];this._defaultRequirements.forEach(function(e){script.map[e].require.some(a(b))||d.require.push(e)})};script._evalAll=function(){script._evalStack=[];Object.keys(script.map).forEach(script._eval)};script._eval=function(c){var d=!1;if(null!==script._base){if(script._evalStack.some(a(c)))throw Error("Cycle reference in script-loader! "+script._evalStack.join(" \x3e ")+" \x3e "+c);script._evalStack.push(c);d=script.map[c];void 0===d?d=script.load(c):
d.loaded&&!d.evaluated&&(c=!1,c=void 0===d.require?!0:d.require.map(script._eval).every(b))&&(void 0!==d.fun&&d.fun.apply(window),d.evaluated=!0,delete d.fun);script._evalStack.pop();d=d.evaluated}return d};script._isDefault=function(a){var b=!1,e,g=script._defaultRequirements.length,f=0;for(f;f<g;f++)if(e=script._defaultRequirements[f],a===e){b=!0;break}return b}})();
(function(){var a;void 0===window.jsz?a={}:(a=window.jsz,delete window.jsz);window._jsz_={classes:{},version:"0.0.1",uniqueId:0,sealObjects:!0,config:{}};_jsz_.config.log=void 0===a.log?{}:a.log;void 0===a.script?_jsz_.config.script={}:(_jsz_.config.script=a.script,_jsz_.config.script.preloaded=["lib.jsz.config","lib.jsz.core.script","lib.jsz.core.config"],script.init(_jsz_.config.script))})();
script({name:"lib.jsz.core.main"},function(){void 0!==console&&console.clear();window._jsz_={classes:{},version:"0.0.1",uniqueId:0,sealObjects:!0,config:{}};void 0!==window.jsz&&(void 0!==jsz.log&&(_jsz_.config.log=jsz.log),void 0!==jsz.script&&(_jsz_.config.script=jsz.script),delete window.jsz);void 0===_jsz_.log&&(_jsz_.log={});void 0===_jsz_.log.type&&(_jsz_.log.type="console");void 0!==_jsz_.config.script&&script.init(_jsz_.config.script);window.JSZ={EMPTY_STRING:"",DOT:".",BLANK:" ",SLASH:"/",
NEW_LINE:"\n",PREFIX:{JS:".js"},META:"_jsz_"};window.uniqueId=function(a){var b=++_jsz_.uniqueId;return void 0===a?"ID:"+b:a+":ID:"+b};window.unite=function(a,b){var c;void 0===a&&(a=noop);a.isUnited?c=a:(void 0===b&&(b=window),c=function(){var c=arguments;arguments[0]&&jsz.isArguments(arguments[0])&&(c=arguments[0]);return a.apply(b,c)},c.isUnited=!0,c=Object.freeze(c));return c};window.apply=function(a,b,c){2===arguments.length?Array.isArray(b)&&(c=b,b=window):void 0===b&&(b=window);return a.apply(b,
c)};window.noop=function(){};window.isTrue=function(a){return!0===a};window.isFalse=function(a){return!1===a};window.isEqual=function(a){return"function"===typeof a.equal?function(b){return a.equal(b)}:function(b){return a===b}};window.isNotEqual=function(a){return"function"===typeof a.equal?function(b){return!a.equal(b)}:function(b){return a!==b}};window._jsz_.classToString=function(){return"["+this._jsz_.namespace._jsz_.path+"."+this._jsz_.className+" Class]"}});
script({name:"lib.jsz.core.Array"},function(){void 0===Array.from&&(Array.from=function(a,b,c){if(void 0===a||null===a)throw new TypeError("Array.from requires an array-like object - not null or undefined.");var d=a.length;if(!(jsz.isInt(d)&&0<=d))throw new TypeError("Array.from requires an array-like object. Can not find length of array-like not found.");var e=void 0!==b,g=Array(d),f=0,h;for(e&&(c=jsz.default(c,window));f<d;)h=e?b.apply(c,[a[f]]):a[f],g[f]=h,f++;return g});void 0===Array.find&&Object.defineProperty(Array.prototype,
"find",{enumerable:!1,configurable:!1,writable:!1,value:function(a,b){for(var c=unite(a,b),d=0,e=this.length,g;d<e&&void 0===g;)!0===c(this[d])&&(g=this[d]),d++;return g}});Object.defineProperty(Array.prototype,"isEmpty",{enumerable:!1,configurable:!1,writable:!1,value:function(){return 0===this.length}});Object.defineProperty(Array.prototype,"isNotEmpty",{enumerable:!1,configurable:!1,writable:!1,value:function(){return!this.isEmpty()}});Object.defineProperty(Array.prototype,"toArguments",{enumerable:!1,
configurable:!1,writable:!1,value:function(){return jsz.listToArguments(this)}});Object.defineProperty(Array.prototype,"contains",{enumerable:!1,configurable:!1,writable:!1,value:function(a,b,c){return void 0===b?this.some(isEqual(a)):this.some(function(d,e,g){return apply(b,c,[a,d,e,g])})}});Object.defineProperty(Array.prototype,"flatten",{enumerable:!1,configurable:!1,writable:!1,value:function(){var a=[];this.forEach(function(b){Array.isArray(b)?a=a.concat(b.flatten()):a.push(b)});return a}})});
script({name:"lib.jsz.core.String"},function(){String.prototype.toCamelCase=function(){var a=this.split(/[-|_]/),b=a.shift().toLowerCase();a.forEach(function(a){b=b+a.substr(0,1).toUpperCase()+a.substr(1).toLowerCase()});return b};String.prototype.equalsIgnoreCase=function(a){var b=!1;void 0!==a&&null!==a&&(b=(new RegExp("^"+a+"$","i")).test(this));return b};void 0===String.prototype.startsWith&&(String.prototype.startsWith=function(a,b){b=jsz.default(b,0);return this.indexOf(a,b)===b});void 0===
String.repeat&&(String.prototype.repeat=function(a){var b=this.toString(),c=JSZ.EMPTY_STRING,d=0;if(isNaN(a))throw new TypeError("Repeat times must be a number.");if(0>a)throw Error("Repeat times must non-negative!");for(;d<a;)c+=b,d++;return c})});script({name:"lib.jsz.core.Date"},function(){Date.MILLIS_PER_SECOND=1E3;Date.prototype.equals=function(a){return this.getTime()===a.getTime()}});
script({name:"lib.jsz.core.Function"},function(){Function.prototype.def=function(a){this._jsz_.properties={};var b,c,d;for(b in a)a.hasOwnProperty(b)&&(d=(c=null!==a[b]&&"function"===typeof a[b])&&a[b]===noop,!c||d?this._jsz_.properties[b]=Object.createDescriptor(b,a[b]):Object.addProperty(this.prototype,b,a[b]));return this};Function.prototype.static=function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);return this}});
script({name:"lib.jsz.core.JSON"},function(){JSON._origignalParse=JSON.parse;JSON.parse=function(a,b){b=jsz.default(b,JSON.reviver);return void 0===b||null===b?JSON._origignalParse(a):JSON._origignalParse(a,b)};JSON.reviverRegExpValue=function(a,b){return function(c,d){return a.test(d)?b(d):d}};JSON.reviverZuluTime=JSON.reviverRegExpValue(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z$/,function(a){return new Date(a)})});
script({name:"lib.jsz.core.Namespace",require:["lib.jsz.core.main","lib.jsz.core.Function"]},function(){window.namespace=function(a){if(void 0===a)throw Error("No path for namespace given.");a=a.split(JSZ.DOT);var b=window,c=JSZ.EMPTY_STRING;a.forEach(function(a){c+=c===JSZ.EMPTY_STRING?a:JSZ.DOT+a;b[a]||(b[a]=new _jsz_.Namespace(c));b=b[a]});return b};window.module=function(a){var b=namespace(a);b._jsz_.module=a;return b};_jsz_.Namespace=function(a){this._jsz_={path:a}};_jsz_.Namespace.prototype.toString=
function(){return"[Namespace:"+this._jsz_.path+"]"};_jsz_.Namespace.prototype.module=function(a){if(void 0!==this[a])throw console.trace(),Error(a+" ist not a valid name for a module!");var b=namespace(this._jsz_.path+JSZ.DOT+a);b._jsz_.module=a;return b};_jsz_.Namespace.prototype.def=function(a){if(void 0===this._jsz_.module)throw Error("Not a module!");var b,c=null,d=this._jsz_.module;for(b in a)a.hasOwnProperty(b)&&(b===d&&"function"===typeof a[b]?c=a[b]:this[b]=a[b]);null!==c&&c.apply(this);return this};
_jsz_.Namespace.prototype.class=function(a,b){var c=this._jsz_.path+"."+a;if(1!==arguments.length&&2!==arguments.length)throw Error("Wrong count of parameters for _jsz_.Namespace.Class!");var d=_jsz_.Namespace.getNewClass(this,a,b);_jsz_.classes[c]=d;d.toString=_jsz_.classToString;d.prototype=void 0===b?Object.create(jsz.Object.prototype):Object.create(b.prototype);Object.defineProperty(d,JSZ.META,{enumerable:!1,configurable:!1,writable:!1,value:{className:a,namespace:this,extend:b,inners:void 0,
firms:void 0}});return this[a]=d};_jsz_.Namespace.getNewClass=function(a,b,c){return function(){var d=a[b],e=null,e=Object.create(d.prototype,d[JSZ.META].properties);Object.defineProperty(e,JSZ.META,{enumerable:!1,configurable:!1,writable:!0,value:{className:b,namespace:a,extend:c||!1,super:0}});e[b]&&e[b].apply(e,arguments);delete e[JSZ.META].super;_jsz_.sealObjects&&Object.seal(e);return e}};_jsz_.Namespace.prototype.proto=function(){var a,b,c;a=arguments[0];2===arguments.length?(b=null,c=arguments[1]):
(b=arguments[1],c=arguments[2]);var d="undefined"===typeof c[a]?function(){}:c[a],e;for(e in c)c.hasOwnProperty(e)&&e!==a&&(d.prototype[e]=c[e]);null!==b&&(d.prototype=Object.create(b.prototype));this[a]=d};namespace("jsz")});
script({name:"lib.jsz.core.jsz",require:["lib.jsz.core.Namespace"]},function(){module("jsz").def({ARGUMENTS_TO_STRING:"[object Arguments]",default:function(a,b){return void 0===a?b:a},defaults:function(a,b){var c=Object.clone(a);Object.keys(b).forEach(function(d){void 0===a[d]?c[d]=b[d]:jsz.isPlainObject(b[d])?c[d]=jsz.defaults(a[d],b[d]):c[d]=a[d]});return c},args:function(){var a=Array.from(arguments),b=Array.from(a.shift()),c={};a.length===b.length?a.forEach(function(a){c[a.name]=b.shift()}):a.forEach(function(a){var e=
a.name;c[e]=void 0;a.type===String?jsz.isString(b[0])&&(c[e]=b.shift()):a.type===Object?jsz.isObject(b[0])&&(c[e]=b.shift()):b[0]instanceof a.type&&(c[e]=b.shift());if(void 0===c[e]&&!0!==a.optional)throw Error("Missing argument "+e+"!");void 0!==a.default&&void 0===c[e]&&(c[e]=a.default)});return c},listToArguments:function(a){return jsz._listToArguments.apply(this,a)},_listToArguments:function(){return arguments},isError:function(a){return a instanceof Error||a instanceof jsz.Error},isFunction:function(a){return"function"===
typeof a},isRegExp:function(a){return a instanceof RegExp},isArguments:function(a){return void 0!==a&&null!==a&&Object.prototype.toString.call(a)===jsz.ARGUMENTS_TO_STRING},isArray:Array.isArray,isObject:function(a){return void 0!==a&&"object"===typeof a&&!Array.isArray(a)},isPlainObject:function(a){var b=jsz.isObject(a);if(a===window||jsz.isArguments(a))b=!1;b&&a.constructor&&!a.hasOwnProperty("constructor")&&!a.constructor.prototype.hasOwnProperty("isPrototypeOf")&&(b=!1);if(b){for(var c in a);
b=void 0===c||a.hasOwnProperty(c)}return b},isNumber:function(a){return"number"===typeof a&&isFinite(a)},isBoolean:function(a){return"boolean"===typeof a},isString:function(a){return"string"===typeof a},isInt:function(a){var b=!1;void 0!==a&&(b=/^-?\d+$/.test(a.toString()));return b},isDate:function(a){return a instanceof Date}})});
script({name:"lib.jsz.core.Object",require:["lib.jsz.core.Namespace"]},function(){jsz.Object=function(){};jsz.Object.prototype.getClass=function(){return _jsz_.classes[this.getClassName()]};jsz.Object.prototype.toString=function(){return"[object "+this.getClassName()+"]"};jsz.Object.prototype.getClassName=function(){return this._jsz_.namespace._jsz_.path+JSZ.DOT+this._jsz_.className};jsz.Object.prototype.super=function(){var a=0,b=this._jsz_.super,c=this._jsz_.extend;for(a;a<b;a++)c=c._jsz_.extend;
void 0!==c&&(this._jsz_.super++,a=c,(a=a.prototype[a._jsz_.className])?a.apply(this,arguments):c&&this.super.apply(this,arguments),this._jsz_.super--)};Object.clone=function(a){if(void 0===a)throw Error("Can not clone undefined!");var b={};if(jsz.isPlainObject(a))Object.keys(a).forEach(function(c){var d=a[c];jsz.isPlainObject(d)?b[c]=Object.clone(d):b[c]=d});else if(void 0!==a.clone)b=a.clone();else throw Error("Can not clone object!");return b};Object.isEmpty=function(a){return Object.keys(a).isEmpty()};
Object.addProperty=function(a,b,c){Object.defineProperty(a,b,Object.createDescriptor(b,c))};Object.addProperties=function(a,b){Object.defineProperties(a,Object.createDescriptors(b))};Object.defineProperty(Object,"createDescriptor",{enumerable:!1,writable:!1,configurable:!1,value:function(a,b){return{enumerable:0!==a.indexOf("_"),writable:!/^[A-Z|_]*$/.test(a),configurable:!1,value:b}}});Object.defineProperty(Object,"createDescriptors",{enumerable:!1,writable:!1,configurable:!1,value:function(a){return Object.keys(a).reduce(function(b,
c){b[c]=Object.createDescriptor(c,a[c]);return b},{})}});window.object=function(a,b){1===arguments.length&&(b=a,a=null);var c=Object.create(jsz.Object.prototype,Object.createDescriptors(b));c.toString=function(){return"[object Object]"};null!==a&&a.apply(c);return c}});
script({name:"lib.jsz.core.HTMLElement",require:["lib.jsz.core.Namespace","lib.jsz.core.jsz"]},function(){namespace("jsz").proto("HTMLElement",{HTMLElement:function(a){this._element=jsz.default(a,null)},CUSTOM_ATTRIBUTE_PREFIX:"data-",CUSTOM_JSZ_PREFIX:"data-jsz-",_apply:function(a,b){var c=null;this.isNotEmpty()&&(c=apply(a,this._element,b));return c},isEmpty:function(){return null===this._element},isNotEmpty:function(){return null!==this._element},get:function(){return this._element},append:function(a){return this._apply(HTMLElement.prototype.appendChild,
[a.get()])},setAttribute:function(a,b){return this._apply(HTMLElement.prototype.setAttribute,[a,b])},setCustomAttribute:function(a,b){return this._apply(HTMLElement.prototype.setAttribute,[this.CUSTOM_ATTRIBUTE_PREFIX+a,b])},setJszAttribute:function(a,b){return this._apply(HTMLElement.prototype.setAttribute,[this.CUSTOM_JSZ_PREFIX+a,b])},getAttribute:function(a){a=this._apply(HTMLElement.prototype.getAttribute,[a]);return a===JSZ.EMPTY_STRING?null:a},getCustomAttribute:function(a){a=this._apply(HTMLElement.prototype.getAttribute,
[this.CUSTOM_ATTRIBUTE_PREFIX+a]);return a===JSZ.EMPTY_STRING?null:a},getJszAttribute:function(a){a=this._apply(HTMLElement.prototype.getAttribute,[this.CUSTOM_JSZ_PREFIX+a]);return a===JSZ.EMPTY_STRING?null:a},setAttributes:function(a){Object.keys(a).forEach(function(b){var c=a[b];b.equalsIgnoreCase("style")?this.setStyles(c):b.equalsIgnoreCase("jsz")?this.setJszAttributes(c):b.equalsIgnoreCase("custom")?this.setCustomAttributes(c):(jsz.isArray(c)&&(c=c.join(JSZ.BLANK)),this.setAttribute(b,c))},
this)},setJszAttributes:function(a){Object.keys(a).forEach(function(b){this.setJszAttribute(b,a[b])},this)},setCustomAttributes:function(a){Object.keys(a).forEach(function(b){this.setCustomAttribute(b,a[b])},this)},html:function(a){void 0===a?a=this._element.innerHTML:this._element.innerHTML=a;return a},getId:function(){return this._apply(HTMLElement.prototype.getAttribute,["id"])},setStyle:function(a,b){jsz.dom.setStyle(this._element,a,b)},setStyles:function(a){},hasType:function(){return Boolean(this._apply(HTMLElement.prototype.hasAttribute,
["type"])).valueOf()},isType:function(a){return this.hasType()&&a.equalsIgnoreCase(this.getType())},getType:function(){this._apply(HTMLElement.prototype.getAttribute,["type"])},getCssClasses:function(){return this._apply(HTMLElement.prototype.getAttribute,["class"]).split(JSZ.BLANK)},addCssClass:function(a){var b=this.getCssClasses();b.push(a);this._apply(HTMLElement.prototype.setAttribute,["class",b.join(JSZ.BLANK)])},removeCssClass:function(a){if(1<arguments.length)this.removeCssClasses(Array.from(arguments));
else{var b=this.getCssClasses();this._apply(HTMLElement.prototype.setAttribute,["class",b.filter(isNotEqual(a)).join(JSZ.BLANK)])}},removeCssClasses:function(a){a.forEach(function(a){this.removeCssClass(a)},this)},toggleCssClass:function(a,b){jsz.isArray(a)&&(b=a[1],a=a[0]);var c=this.getCssClasses(),d,e;c.contains(b)?(e=a,d=b):(e=b,d=a);c.push(e);this._apply(HTMLElement.prototype.setAttribute,["class",c.filter(isNotEqual(d)).join(JSZ.BLANK)])},onClick:function(a,b,c){return jsz.Listener.add(this,
"click",a,b,c)},$:function(a){return $(a,this)},$$:function(a){return $$(a,this)}});jsz.HTMLElement.build=function(a){return new jsz.HTMLElement(a)};jsz.HTMLElement.make=function(a,b,c){1===arguments.length?(b={},c=JSZ.EMPTY_STRING):2===arguments.length&&jsz.isString(b)&&(c=b,b={});var d=new jsz.HTMLElement(document.createElement(a));d.setAttributes(b);d.html(c);return d};jsz.HTMLElement.get=function(a){return a.get()};jsz.HTMLElement.empty=new jsz.HTMLElement});
script({name:"lib.jsz.core.HTMLElementsList",require:["lib.jsz.core.Namespace","lib.jsz.core.jsz"]},function(){namespace("jsz").proto("HTMLElementsList",{HTMLElementsList:function(a){this._elements=jsz.default(a,[])},_apply:function(a,b,c){this._elements.forEach(function(d){c.unshift(d);a.apply(b,c)})},map:function(a,b){this._elements.forEach(function(c){a.apply(c,b)})},get:function(a){return void 0===a?this._elements:this._elements[a]},setStyle:function(a,b){this._apply(jsz.dom.setStyle,jsz.dom,
[a,b])},isEmpty:function(){return this._elements.isEmpty()},forEach:function(a,b){this._elements.forEach(a,b)},indexOf:function(a,b){return this._elements.indexOf(a,b)},onClick:function(a,b,c){this.map(jsz.HTMLElement.prototype.onClick,[a,b,c])},size:function(){return this._elements.length}});jsz.HTMLElementsList.empty=new jsz.HTMLElementsList});
script({name:"lib.jsz.core.dollar",require:["lib.jsz.core.Array","lib.jsz.core.HTMLElement","lib.jsz.core.HTMLElementsList"]},function(){window.$id=function(a){return new jsz.HTMLElement(document.getElementById(a))};window.$=function(a,b){var c=jsz.HTMLElement.empty,d=null;void 0===b?d=document:b.isEmpty()||(d=b.get());null!==d&&(c=new jsz.HTMLElement(d.querySelector(a)));return c};window.$$=function(a,b){var c=jsz.HTMLElementsList.empty,d=null;if(void 0===b)d=document;else if(b instanceof jsz.HTMLElement)b.isNotEmpty()&&
(d=b.get());else throw Error("htmlElement must be of type jsz.HTMLElement!");null!==d&&(c=new jsz.HTMLElementsList(Array.from(d.querySelectorAll(a)).map(jsz.HTMLElement.build)));return c}});
script({name:"lib.jsz.core.dom",require:["lib.jsz.core.Namespace","lib.jsz.core.String"]},function(){namespace("jsz").module("dom").def({setStyle:function(a,b,c){if(void 0!==b){if(void 0!==c)return this._setStyle(a,b,c);Object.keys(b).forEach(function(c){this._setStyle(a,c,b[c])},this)}},_setStyle:function(a,b,c){if(a)"undefined"===typeof a.style&&log.error("element.style is undefined! Element: "+a),"float"===b&&(b="cssFloat"),c=this._getStylesDefaultUnit(b,c),a.style[b.toCamelCase()]=c;else throw Error("Can not set style! Element is undefined");
return a},STYLES_DEFAULT_UNIT:{height:"em",width:"em",top:"em",left:"em",padding:"em",margin:"em",paddingLeft:"em",paddingRight:"em"},_getStylesDefaultUnit:function(a,b){var c=this.STYLES_DEFAULT_UNIT[a],d=/^-?\d*$/.test(b);return void 0!==typeof c&&d?b+c:b}})});
script({name:"lib.jsz.core.Error",require:["lib.jsz.core.Namespace","lib.jsz.core.Object"]},function(){namespace("jsz").class("Error").def({Error:function(a,b,c){void 0===b?(b=0,c=null):jsz.isError(b)&&(c=b,b=0);this.causedBy=void 0===c?null:c instanceof Error?new jsz.Error(c):c;a instanceof Error?(this.message=a.message,this.name=a.name,this._setStack(this._getStack(a,!1,b))):(void 0===a&&(a=JSZ.EMPTY_STRING),this.message=a,this.name=this._jsz_.className,this._setStack(this._getStack(Error(),!0,
b)))},_setStack:function(a){this.stack=a;a.isEmpty()||(a=this.stack[0],this.protocol=a.protocol,this.host=a.host,this.port=a.port,this.path=a.path,this.fileName=a.fileName,this.lineNumber=a.lineNumber,this.colNumber=a.colNumber)},_getStack:function(a,b,c){a=a.stack.split(JSZ.NEW_LINE);"Error"===a[0]&&a.shift();return this._skip(a.map(this._parseStackEntry),b,c)},_skip:function(a,b,c){if(b){for(;0<a.length&&a[0].functionName!==this.name;)a.shift();2<a.length&&(a=a.slice(2))}0<c&&c<a.length&&(a=a.slice(c));
return a},_parseStackEntry:function(a){var b={},c;/^\s*at\s/.test(a)?(c=/^\s*at\s+(.*)\s*\((.*)\)/.exec(a),null===c&&(c=/^\s*at(\s+)(.*)/.exec(a))):c=/(.*)@(.*)$/.exec(a);null===c?(b.functionName=JSZ.EMPTY_STRING,c=a):(a=/(.*)\.(.*)/.exec(c[1]),null!==a?(b.functionPath=a[1].trim(),b.functionName=a[2].trim()):(b.functionPath=JSZ.EMPTY_STRING,b.functionName=c[1].trim()),c=c[2]);a=/(.*):\/\/([^:]*):(\d*)(.*)\/(.*):(\d*):(\d*)/.exec(c);null===a?(b.fileName=c,b.protocol=JSZ.EMPTY_STRING,b.host=JSZ.EMPTY_STRING,
b.port=JSZ.EMPTY_STRING,b.path=JSZ.EMPTY_STRING,b.fileName=JSZ.EMPTY_STRING,b.lineNumber=JSZ.EMPTY_STRING,b.colNumber=JSZ.EMPTY_STRING):(b.codePointer=a[0],b.protocol=a[1],b.host=a[2],b.port=a[3],b.path=a[4],b.fileName=a[5],b.lineNumber=a[6],b.colNumber=a[7]);return b},toString:function(){return this.name+":"+this.fileName+":"+this.lineNumber+":"+this.message}})});
script({name:"lib.jsz.core.Listener",require:["lib.jsz.core.Array","lib.jsz.core.Namespace","lib.jsz.core.Object"]},function(){_jsz_.listeners={};namespace("jsz").class("Listener").def({Listener:function(a,b,c,d,e){this.id=a;this._element=b;this._type=c;this._callback=d;this._avoidPropagation=jsz.default(e.avoidPropagation,!1);this._avoidDefault=jsz.default(e.avoidDefault,!0);this._element.isType("FILE")&&(this._avoidDefault=!1);this._capture=jsz.default(e.capture,!1);this._returnType=jsz.default(e.returnType,
"listener");if(!["listener","event","target","element"].contains(this._returnType))throw Error("Not a valid returnType! returnType \x3d "+this._returnType);},_avoidDefault:!0,_avoidPropagation:!1,activate:function(){jsz.Listener.activate(this.id)},deactivate:function(){jsz.Listener.deactivate(this.id)},fire:function(a){this._avoidDefault&&a.preventDefault();this._avoidPropagation&&a.stopPropagation();this._callback(this._getReturnType(a))},_getReturnType:function(a){var b=null;switch(this._returnType){case "listener":b=
this;break;case "event":b=a;break;case "target":b=new jsz.HTMLElement(a.target);break;case "element":b=this._element}return b}}).static({_handles:{},_ID_PREFIX:"lsr:",_idCounter:0,_listeners:{},_typeMap:{returnKey:"keydown",escKey:"keydown"},add:function(a,b,c,d,e){a=this._args4add(a,b,c,d,e);c=this._newId();this._handles[c]=this._getHandleFunction(c);b=this._typeMap[a.type]||a.type;_jsz_.listeners[c]=new this(c,a.element,b,a.callback,a.config);!1!==a.config.active&&this.activate(c);return _jsz_.listeners[c]},
activate:function(a){var b=_jsz_.listeners[a];a=this._handles[a];b._element.get().addEventListener(b._type,a,b._capture)},deactivate:function(a){var b=_jsz_.listeners[a];a=this._handles[a];b._element.get().removeEventListener(b._type,a,b._capture)},_args4add:function(a,b,c,d,e){a={element:a,type:b,callback:c,config:{}};d instanceof jsz.Object||d instanceof _jsz_.Namespace?(a.callback=unite(a.callback,d),a.config=jsz.default(e,{})):a.config=jsz.default(d,{});"string"===typeof a.element&&(a.element=
$id(a.element));if(a.element.isEmpty())throw Error("Missing element for listener!");jsz.gui&&a.element instanceof jsz.gui.Object&&(log.warn("TODO: This part needs a refactoring when jsz.gui is reimplemented."),a.element=a.element.element);return Object.freeze(a)},_newId:function(){return this._ID_PREFIX+this._idCounter++},_getHandleFunction:function(a){return function(b){_jsz_.listeners[a].fire(b)}}})});
script({name:"lib.jsz.core.time",require:["lib.jsz.core.Namespace","lib.jsz.core.Object","lib.jsz.core.Date"]},function(){namespace("jsz").module("time").def({second:function(){return new jsz.time.Seconds(1)},seconds:function(a){return new jsz.time.Seconds(a)}});namespace("jsz.time").class("Seconds").def({Seconds:function(a){this._seconds=a},millis:function(){return this._seconds*Date.MILLIS_PER_SECOND}})});(function(){script({name:"lib.jsz.core",default:!0,require:"lib.jsz.config lib.jsz.core.script lib.jsz.core.config lib.jsz.core.main lib.jsz.core.Array lib.jsz.core.String lib.jsz.core.Date lib.jsz.core.Function lib.jsz.core.JSON lib.jsz.core.Namespace lib.jsz.core.jsz lib.jsz.core.Object lib.jsz.core.HTMLElement lib.jsz.core.HTMLElementsList lib.jsz.core.dollar lib.jsz.core.dom lib.jsz.core.Error lib.jsz.core.Listener lib.jsz.core.time".split(" ")})})();